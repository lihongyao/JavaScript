# æ¦‚è¿°

[æ•°ç»„](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array) æ˜¯ä¸€ä¸ª **æœ‰åºçš„å€¼é›†åˆ**ï¼Œç”¨äºå­˜å‚¨å¤šä¸ªå…ƒç´ ã€‚æ¯ä¸ªå…ƒç´ é€šè¿‡ **ä¸‹æ ‡**ï¼ˆä» `0` å¼€å§‹ï¼‰è®¿é—®ï¼Œæ•°ç»„çš„  `length` å±æ€§è¡¨ç¤ºå…ƒç´ çš„æ•°é‡ã€‚æˆ‘ä»¬å¯ä»¥æŠŠæ•™å®¤ç†è§£ä¸ºä¸€ä¸ªé›†åˆï¼Œè€Œå­¦ç”Ÿä½œä¸ºå­˜å‚¨åœ¨é›†åˆé‡Œé¢çš„æ•°æ®ï¼Œå«åšå…ƒç´ ã€‚

**ä¸»è¦ç‰¹ç‚¹**ï¼š

1. **æœ‰åº**ï¼šæ•°ç»„ä¸­çš„å…ƒç´ æŒ‰é¡ºåºæ’åˆ—ï¼Œä½ç½®ç”±ä¸‹æ ‡æ ‡è¯†ã€‚
2. **ä¸‹æ ‡**ï¼šä»0å¼€å§‹é€’å¢ï¼Œä¸‹æ ‡æœ€å¤§å€¼ä¸º `length - 1`ã€‚
3. **å…ƒç´ ç±»å‹**ï¼šå¯ä»¥åŒ…å«ä»»æ„ç±»å‹çš„å…ƒç´ ï¼ˆæ•°å­—ã€å­—ç¬¦ä¸²ã€å¯¹è±¡ã€æ•°ç»„ç­‰ï¼‰ã€‚
4. **å¯¹è±¡ç±»å‹**ï¼šæ•°ç»„æœ¬è´¨æ˜¯ä¸€ä¸ª **å¯¹è±¡**ï¼Œå…·å¤‡å¯¹è±¡çš„ç‰¹æ€§ã€‚

ç¤ºä¾‹ï¼š

```javascript
const arr = [1, "a", {}, [], false];
```

ä»¥ä¸Šæ•°ç»„åŒ…å«äº†å¤šç§ç±»å‹çš„å…ƒç´ ï¼ŒåŒ…æ‹¬æ•°å­—ã€å­—ç¬¦ä¸²ã€å¯¹è±¡ã€æ•°ç»„å’Œå¸ƒå°”å€¼ã€‚

**äºŒç»´æ•°ç»„**ï¼š

å½“æ•°ç»„å†…éƒ¨åŒ…å«å…¶ä»–æ•°ç»„æ—¶ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º **äºŒç»´æ•°ç»„**ï¼Œä¾‹å¦‚ï¼š

```js
const arr2D = [[1, 2], [3, 4]];
```

> **æç¤º**ï¼šå½“ç„¶ä½ ä¹Ÿå¯ä»¥ç»§ç»­åµŒå¥—æ•°ç»„ï¼Œä»è€Œå®ç°å¤šç»´æ•°ç»„çš„ç»“æ„è¡¨ç¤ºã€‚

# åˆ›å»ºæ•°ç»„ 

```javascript
// ã€1ã€‘ã€æ•°ç»„å­—é¢é‡ï¼ˆæ¨èï¼‰ï¼Œæœ€å¸¸ç”¨ã€æœ€ç›´è§‚çš„æ–¹å¼
const arr = [1, 2, 3];

// ã€2ã€‘ã€æ„é€ å‡½æ•°ï¼Œä¸æ¨èä½¿ç”¨ï¼Œå®¹æ˜“å¯¼è‡´æ„å¤–è¡Œä¸º
const arr = new Array(1, 2, 3); // (3)Â [1, 2, 3]
const arr = new Array(3); // (3)Â [empty Ã— 3] (åˆ›å»ºé•¿åº¦ä¸º3çš„ç©ºæ•°ç»„)

// ã€3ã€‘ã€å…ˆå£°æ˜åèµ‹å€¼
const arr = [];
arr[0] = 'A';
arr[3] = 'C'; 
// (4)Â ['A', empty Ã— 2, 'C']

const arr = new Array();
arr[0] = 'A';
arr[3] = 'C';
// (4)Â ['A', empty Ã— 2, 'C']

// ã€4ã€‘ã€åˆ›å»ºæŒ‡å®šé•¿åº¦å¹¶å¡«å……é»˜è®¤å€¼
const arr = new Array(3).fill(0); // (3)Â [0, 0, 0]

// ã€5ã€‘. Array.from()ï¼šå¯¹ç±»æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡åˆ›å»ºæµ…æ‹·è´çš„æ–°æ•°ç»„
const arr = Array.from([1, 2]); // (2)Â [1, 2]

const arr = Array.from({ length: 2 }, (_, index) =>  ({ id: index })); // (2)Â [ {"id": 0}, {"id": 1} ]

// ã€6ã€‘. Array.of()ï¼šåˆ›å»ºä¸€ä¸ªåŒ…å«æ‰€æœ‰ä¼ å…¥å‚æ•°çš„æ–°æ•°ç»„
const arr = Array.of(3); // (1)Â [3]
const arr = Array.of(1, 2, 3); // (3)Â [1, 2, 3]
```

# æ•°ç»„ç©ºä½

æ•°ç»„ç©ºä½æŒ‡çš„æ˜¯æ•°ç»„ä¸­æŸäº›ç´¢å¼•ä½ç½®æœªè¢«èµ‹å€¼çš„æƒ…å†µã€‚ç©ºä½å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š

- ä¸ä¼šå½±å“æ•°ç»„çš„ `length` å±æ€§
- å¯ä»¥é€šè¿‡ `in` è¿ç®—ç¬¦æ£€æµ‹æ˜¯å¦å­˜åœ¨
- è®¿é—®æ—¶è¿”å› `undefined`ï¼Œä½†ä¸æ˜¾å¼èµ‹å€¼ä¸º `undefined` ä¸åŒ

## ç©ºä½æ£€æµ‹ä¸è®¿é—®

```js
const heros = ["è¾¾æ‘©", , "è²‚è‰", "å•å¸ƒ"];  // ç´¢å¼•1æ˜¯ç©ºä½

console.log(heros); 
// è¾“å‡º: ["è¾¾æ‘©", empty, "è²‚è‰", "å•å¸ƒ"]

// æ£€æµ‹ç©ºä½
console.log(0 in heros); // trueï¼ˆç´¢å¼•0æœ‰å€¼ï¼‰
console.log(1 in heros); // falseï¼ˆç´¢å¼•1æ˜¯ç©ºä½ï¼‰
console.log(2 in heros); // trueï¼ˆç´¢å¼•2æœ‰å€¼ï¼‰

// è®¿é—®ç©ºä½
console.log(heros[1]); // undefined
```

ç©ºä½ vs. æ˜¾ç¤º undefined

|      æƒ…å†µ       | `in` æ£€æµ‹ |   è®¿é—®å€¼    |  ç±»å‹  |
| :-------------: | :-------: | :---------: | :----: |
|      ç©ºä½       |  `false`  | `undefined` | æœªå®šä¹‰ |
| æ˜¾å¼`undefined` |  `true`   | `undefined` | å·²å®šä¹‰ |

## ç©ºä½å¯¹æ•°ç»„é•¿åº¦çš„å½±å“

```js
const heros = ["è¾¾æ‘©", "è²‚è‰", "å•å¸ƒ"];
console.log(heros.length); // 3

// åœ¨ç´¢å¼•99å¤„èµ‹å€¼
heros[99] = "æç™½";
console.log(heros.length); // 100
```

é•¿åº¦è®¡ç®—è§„åˆ™ï¼š

1. æ•°ç»„çš„ `length` ç”± **æœ€å¤§ç´¢å¼•å€¼ + 1** å†³å®š
2. ä¸­é—´æœªèµ‹å€¼çš„ç´¢å¼•ä¼šè‡ªåŠ¨å¡«å……ä¸ºç©ºä½
3. ç©ºä½ä¸è®¡å…¥å®é™…å…ƒç´ æ•°é‡ï¼Œä½†ä»å½±å“é•¿åº¦

## ç©ºä½çš„äº§ç”Ÿæ–¹å¼

```js
// 1. ç›´æ¥å£°æ˜ç©ºä½
const arr1 = [1, , 3];

// 2. åˆ é™¤å…ƒç´ 
const arr2 = [1, 2, 3];
delete arr2[1]; // äº§ç”Ÿç©ºä½

// 3. è·³ç´¢å¼•èµ‹å€¼
const arr3 = [];
arr3[5] = "a"; // å‰5ä¸ªä½ç½®éƒ½æ˜¯ç©ºä½
```

## éå†æ³¨æ„äº‹é¡¹

- `forEach()`/`map()` ä¼šè·³è¿‡ç©ºä½
- `for...of` ä¼šè¿”å› `undefined`
- å»ºè®®ä½¿ç”¨ `Array.from()` æˆ–å±•å¼€è¿ç®—ç¬¦å¤„ç†ç©ºä½

```js
const arr = [1, , 3];
arr.forEach(v => console.log(v)); // åªè¾“å‡º1å’Œ3
```

**æœ€ä½³å®è·µ**ï¼šé¿å…æ‰‹åŠ¨åˆ›å»ºç©ºä½æ•°ç»„ï¼Œå¿…è¦æ—¶ä½¿ç”¨ `Array(length)` æ˜ç¡®åˆå§‹åŒ–ã€‚

# æ•°ç»„å¯¹è±¡APIs *

@See https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array

## é•¿åº¦

é€šè¿‡ [length](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/length) å±æ€§è®¿é—®æ•°ç»„å…ƒç´ é•¿åº¦

```js
const heros = ["è¾¾æ‘©", "è²‚è‰", "å•å¸ƒ"];
heros.length
3
```

## æ•°ç»„åˆ¤æ–­

åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºæ•°ç»„çš„æ–¹å¼å¦‚ä¸‹ï¼š

```js
// 1.ï¼ˆæ¨èï¼ŒES5+ï¼‰
Array.isArray(target);

// 2.ï¼ˆé€šç”¨æ–¹æ³•ï¼Œé€‚ç”¨äºè·¨ iframeï¼‰
Object.prototype.toString.call(target).slice(8, -1) === 'Array';

// 3.ï¼ˆåŸºäºæ„é€ å‡½æ•°ï¼‰
target.constructor === Array;

// 4.ï¼ˆåŸºäºåŸå‹é“¾æŸ¥æ‰¾ï¼‰
target instanceof Array;
```

> **æç¤ºï¼š**
>
> 1. `instanceof`  ä¾èµ–åŸå‹é“¾ï¼Œå¯¹äºè·¨ iframe æˆ–ä¸åŒ window çš„æƒ…å†µå¯èƒ½ä¼šå¤±æ•ˆã€‚
>
>    *è¿™æ˜¯å› ä¸ºåœ¨ **è·¨ iframe æˆ–ä¸åŒ window** çš„æƒ…å†µä¸‹ï¼Œæ¯ä¸ªç¯å¢ƒéƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„ Array æ„é€ å‡½æ•°ï¼Œå› æ­¤ instanceof å¯èƒ½ä¼šå¤±æ•ˆã€‚*
>
> 2. `target.constructor === Array` å¯èƒ½ä¼šè¢«ç”¨æˆ·ç¯¡æ”¹ï¼Œå­˜åœ¨ä¸€å®šçš„é£é™©ã€‚
>
>    *è¿™æ˜¯å› ä¸ºç”¨æˆ·å¯ä»¥é€šè¿‡ `arr.constructor = xxx` æ¥ç¯¡æ”¹æ„é€ å‡½æ•°ã€‚* 

## æ•°ç»„æ“ä½œ

JavaScript æ•°ç»„çš„å¸¸è§æ“ä½œå¯åˆ†ä¸º **å¢ã€åˆ ã€æŸ¥ã€æ”¹ã€åˆå¹¶ã€æˆªå–** ç­‰ï¼ŒæŒæ¡è¿™äº›æ–¹æ³•èƒ½å¤§å¤§æå‡ä½ çš„å¼€å‘æ•ˆç‡ã€‚

### æ·»åŠ å…ƒç´ 

æ·»åŠ æ•°ç»„å…ƒç´ çš„æ–¹æ³•å¦‚ä¸‹ï¼š

- [`push(...items)`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/push)ï¼šåœ¨æ•°ç»„çš„æœ«ç«¯æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›æ·»åŠ æ–°å…ƒç´ åçš„æ•°ç»„é•¿åº¦*ï¼ˆ æ”¹å˜åŸæ•°ç»„ï¼‰*ã€‚
- [`unshift(...items)`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/unshift)ï¼šåœ¨æ•°ç»„çš„å¼€å§‹ä½ç½®æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›æ·»åŠ æ–°å…ƒç´ åçš„æ•°ç»„é•¿åº¦*ï¼ˆ æ”¹å˜åŸæ•°ç»„ï¼‰*ã€‚
- [`splice(start, deleteCount, ...items)`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/splice)ï¼šåœ¨æ•°ç»„ä¸­ä»»æ„ä½ç½®æ·»åŠ æˆ–åˆ é™¤å…ƒç´  *ï¼ˆ æ”¹å˜åŸæ•°ç»„ï¼‰*

ä»£ç ç¤ºä¾‹ï¼š

```js
const heros = ["éœ²å¨œ", "ä¸Šå®˜å©‰å„¿"];

heros.push("æç™½", "å¬´æ”¿");
heros
(4)Â ["éœ²å¨œ", "ä¸Šå®˜å©‰å„¿", "æç™½", "å¬´æ”¿"]

heros.unshift("è²‚è‰");
heros
(5)Â ["è²‚è‰", "éœ²å¨œ", "ä¸Šå®˜å©‰å„¿", "æç™½", "å¬´æ”¿"]

heros.splice(2, 0, "èµµäº‘", "å•å¸ƒ"); // åœ¨ç´¢å¼• 2 å¤„æ’å…¥
heros
(7)Â ["è²‚è‰", "éœ²å¨œ", "èµµäº‘", "å•å¸ƒ", "ä¸Šå®˜å©‰å„¿", "æç™½", "å¬´æ”¿"]
```

### åˆ é™¤å…ƒç´ 

åˆ é™¤æ•°ç»„å…ƒç´ çš„æ–¹æ³•å¦‚ä¸‹ï¼š

- [`pop()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/pop)ï¼šåˆ é™¤æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ *ï¼ˆ æ”¹å˜åŸæ•°ç»„ï¼‰*ã€‚
- [`shift()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/shift)ï¼šåˆ é™¤æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ *ï¼ˆ æ”¹å˜åŸæ•°ç»„ï¼‰*ã€‚
- [`splice()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/splice)ï¼šåœ¨æ•°ç»„ä¸­ä»»æ„ä½ç½®æ·»åŠ æˆ–åˆ é™¤å…ƒç´  *ï¼ˆ æ”¹å˜åŸæ•°ç»„ï¼‰*

```javascript
const heros = ["éœ²å¨œ", "ä¸Šå®˜å©‰å„¿", "æç™½", "å¬´æ”¿", "è²‚è‰", "å…°é™µç‹", "äºšç‘Ÿ"];
// 1. pop
heros.pop();
heros
(6)Â ["éœ²å¨œ", "ä¸Šå®˜å©‰å„¿", "æç™½", "å¬´æ”¿", "è²‚è‰", "å…°é™µç‹"]

// 2. shift 
heros.shift();
heros
(5)Â ["ä¸Šå®˜å©‰å„¿", "æç™½", "å¬´æ”¿", "è²‚è‰", "å…°é™µç‹"]
```

> æç¤ºï¼šä»¥ä¸Šä¸¤ç§æ–¹æ³•åœ¨åˆ é™¤æ•°ç»„å…ƒç´ æ—¶åªèƒ½ä¸€ä¸ªä¸€ä¸ªåˆ é™¤ã€‚

åˆ é™¤æ•°ç»„å…ƒç´ ä¸­ `splice` æ–¹æ³•æœ€ä¸ºçµæ´»ï¼Œä¸ä»…å¯ä»¥èŒƒå›´åˆ é™¤æ•°ç»„å…ƒç´ ï¼Œè¿˜å¯ä»¥å®ç°æ•°ç»„å…ƒç´ çš„æ’å…¥å’Œæ›¿æ¢ã€‚è¯¥æ–¹æ³•è¯­æ³•å½¢å¼ä¸ºï¼š

```
splice(start, deleteCount, ...items)
```

å‚æ•°è§£è¯»ï¼š

- `start`ï¼šåˆ é™¤çš„èµ·å§‹ä½ç½®
- `deleteCount`ï¼šåˆ é™¤çš„å…ƒç´ ä¸ªæ•°
- `items`ï¼šè¦è¢«æ’å…¥æ•°ç»„çš„æ–°å…ƒç´ ã€‚

```javascript
// 1. åˆ é™¤ -> åˆ é™¤æç™½ã€å¬´æ”¿
heros.splice(1, 2);
heros
(3)Â ["ä¸Šå®˜å©‰å„¿", "è²‚è‰", "å…°é™µç‹"]

// 2. æ›¿æ¢ -> æŠŠå…°é™µç‹æ›¿æ¢æˆé²ç­ä¸ƒå·
heros.splice(2, 1, "é²ç­ä¸ƒå·");
heros
(3)Â ["ä¸Šå®˜å©‰å„¿", "è²‚è‰", "é²ç­ä¸ƒå·"]

// 3. æ’å…¥ -> åœ¨é²ç­ä¸ƒå·ä¹‹å‰æ’å…¥å•å¸ƒã€èµµäº‘
heros.splice(2, 0, "å•å¸ƒ", "èµµäº‘");
heros
(5)Â ["ä¸Šå®˜å©‰å„¿", "è²‚è‰", "å•å¸ƒ", "èµµäº‘", "é²ç­ä¸ƒå·"]
```

å¦å¤–ï¼Œè¯¥æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥ä¸ºè´Ÿæ•°ï¼ˆä½†æ˜¯ç¬¬äºŒä¸ªä¸èƒ½ï¼Œå› ä¸ºå®ƒè¡¨ç¤ºé•¿åº¦ï¼‰ï¼Œè¡¨ç¤ºä»æ•°ç»„æœ«ç«¯å¼€å§‹è®¡æ•°ï¼Œå¼€å§‹è®¡æ•°çš„å€¼ä¸ºâ€œ**-1**â€ã€‚

```javascript
heros.splice(-1, 1);
heros
(4)Â ["ä¸Šå®˜å©‰å„¿", "è²‚è‰", "å•å¸ƒ", "èµµäº‘"]
```

å¦‚æœåªæœ‰ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œåˆ™è¡¨ç¤ºä»æŒ‡å®šä½ç½®åˆ é™¤åˆ°æœ«å°¾ï¼š

```js
heros.splice(1);
heros
["ä¸Šå®˜å©‰å„¿"]
```

### æŸ¥è¯¢å…ƒç´ 

- [`at(index)`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/at)ï¼šé€šè¿‡ç´¢å¼•æŸ¥æ‰¾å…ƒç´ ï¼Œæ”¯æŒè´Ÿç´¢å¼•ï¼›
- [`filter(callback)`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/filter)ï¼šé€šè¿‡æ¡ä»¶æŸ¥æ‰¾ï¼Œè¿”å›ç¬¦åˆæ¡ä»¶çš„æ‰€æœ‰å…ƒç´ ã€‚
- [`find(callback)`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/find)ï¼šé€šè¿‡æ¡ä»¶æŸ¥æ‰¾ï¼Œè¿”å›ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´  *ï¼ˆæ­£å‘è¿­ä»£ï¼‰*ã€‚
- [`findLast(callback)`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/find)ï¼šé€šè¿‡æ¡ä»¶æŸ¥æ‰¾ï¼Œè¿”å›ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´  *ï¼ˆåå‘è¿­ä»£ï¼‰*ã€‚
- [`findIndex(callback)`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex)ï¼šè¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ã€‚
- [`findLastIndex(callback)`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/findLastIndex)ï¼šè¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°æ¡ä»¶çš„æœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ã€‚
- [`includes(searchElement, [fromIndex])`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/includes)ï¼šåˆ¤æ–­æ•°ç»„æ˜¯å¦åŒ…å«ä¸€ä¸ªæŒ‡å®šçš„å€¼ã€‚
- [`indexOf(searchElement, [fromIndex])`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf)ï¼šè¿”å›åœ¨æ•°ç»„ä¸­å¯ä»¥æ‰¾åˆ°ç»™å®šå…ƒç´ çš„ç¬¬ä¸€ä¸ªç´¢å¼•ã€‚
- [`lastIndexOf(searchElement, [fromIndex])`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/lastIndexOf)ï¼šè¿”å›æŒ‡å®šå…ƒç´ åœ¨æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªçš„ç´¢å¼•ã€‚

### åˆå¹¶æ•°ç»„

- [`apply()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/apply)ï¼šåˆå¹¶æ•°ç»„ï¼ˆåªèƒ½åˆå¹¶ä¸¤ä¸ªï¼‰*ï¼ˆ æ”¹å˜åŸæ•°ç»„ï¼‰*
- [`concat()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/concat)ï¼šåˆå¹¶æ•°ç»„ï¼ˆå…è®¸åˆå¹¶å¤šä¸ªæ•°ç»„ï¼‰ *ï¼ˆ ä¸æ”¹å˜åŸæ•°ç»„ï¼Œè¿”å›æ–°æ•°ç»„ï¼‰* \*
- `[...[]]`ï¼šES6 åºåˆ—åŒ–åˆå¹¶æ•°ç»„ï¼Œé«˜æ•ˆç®€æ´ï¼Œå»ºè®®ä½¿ç”¨ã€‚*

```javascript
const a = ["æç™½"];
const b = ["ç‹æ˜­å›", "è™å§¬"];

// 1. apply
Array.prototype.push.apply(a, b);
a
(3)Â ["æç™½", "ç‹æ˜­å›", "è™å§¬"]
b
(2)Â ["ç‹æ˜­å›", "è™å§¬"]

// 2. concat
const arr = a.concat(b);
arr
(3)Â ["æç™½", "ç‹æ˜­å›", "è™å§¬"]

// 3. [...[]]
const arr = [...a, ...b];
arr
(3)Â ["æç™½", "ç‹æ˜­å›", "è™å§¬"]
```

### æˆªå–å…ƒç´ 

æˆªå–æ•°ç»„å…ƒç´ ä¸å­—ç¬¦ä¸²æˆªå–ç±»ä¼¼ï¼Œä½¿ç”¨ [`slice()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/slice) æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¯­æ³•å½¢å¼å¦‚ä¸‹ï¼š

```javascript
arr.slice(startIdx, endIdx);
```

è¯­æ³•è§£è¯»ï¼š

- `startIdx`ï¼šèµ·å§‹ä½ç½®ï¼ˆä»ä¸‹æ ‡0å¼€å§‹ï¼‰
- `endIdx`ï¼šç»“æŸä½ç½®ï¼Œä¸åŒ…æ‹¬ç»“æŸä½ç½®çš„å…ƒç´ ï¼Œå¦‚æœçœç•¥è¯¥å‚æ•°ï¼Œåˆ™è¡¨ç¤ºä»å¤´æˆªå–åˆ°æœ«å°¾ã€‚

```javascript
const heros = ["ä¸Šå®˜å©‰å„¿", "æç™½", "å¬´æ”¿", "è²‚è‰", "å…°é™µç‹"];
const res = heros.slice(1, 4);
res
(3)Â ["æç™½", "å¬´æ”¿", "è²‚è‰"]

const res = heros.slice(1);
res
(4)Â ["æç™½", "å¬´æ”¿", "è²‚è‰", "å…°é™µç‹"]
```

é™¤æ­¤ä¹‹å¤–ï¼Œè¯¥æ–¹æ³•è¿˜å¯ä»¥åˆ©ç”¨åŸå‹é“¾ä¸­çš„ `call()` æ–¹æ³•å°†ä¸€ä¸ªç±»ä¼¼æ•°ç»„è½¬åŒ–æˆçœŸæ­£çš„æ•°ç»„ï¼Œå…¶è¯­æ³•å½¢å¼ä¸ºï¼š

```javascript
Array.prototype.slice.call(obj);
```

ä»£ç ç¤ºä¾‹ï¼š

```html
<ul class="list">
    <li>LIST-1</li>
    <li>LIST-2</li>
    <li>LIST-3</li>
    <li>LIST-4</li>
    <li>LIST-5</li>
</ul>
```

```js
// 1. è·å–æ‰€æœ‰çš„.listä¸‹liæ ‡ç­¾
const lis = document.querySelectorAll(".list li");
console.log(lis);
/*
NodeList(5) [li, li, li, li, li]
0: li
1: li
2: li
3: li
4: li
length: 5
__proto__: NodeList
*/
// 2. ä¼å›¾åœ¨liså¯¹è±¡ä¸Šè°ƒç”¨pushæ–¹æ³•
// lis.push("<li></li>");

// 3. ç¨‹åºä¼šæŠ¥é”™ï¼Œå› ä¸ºlisæœ¬è´¨ä¸Šä¸æ˜¯æ•°ç»„è€Œæ˜¯NodeListå¯¹è±¡
// Uncaught TypeError: lis.push is not a function

// 4. å¦‚æœæƒ³è¦è°ƒç”¨pushæ–¹æ³•æ·»åŠ å†…å®¹ï¼Œéœ€å°†ç±»ä¼¼æ•°ç»„è½¬ä¸ºçœŸæ­£çš„æ•°ç»„
lis = Array.prototype.slice.call(lis);
console.log(lis);
/*
(5) [li, li, li, li, li]
0: li
1: li
2: li
3: li
4: li
length: 5
__proto__: Array(0)
*/
// 5. liså·²ç»è¢«è½¬æ¢æˆçœŸæ­£çš„è¾“å…¥ï¼Œæ‰€ä»¥å¯ä»¥è°ƒç”¨pushæ–¹æ³•äº†
lis.push("<li></li>");
console.log(lis);
```

å°†ä¸€ä¸ªç±»ä¼¼æ•°ç»„è½¬æ¢ä¸ºçœŸæ­£çš„æ•°ç»„çš„æ„ä¹‰åœ¨äºï¼Œç±»ä¼¼æ•°ç»„ä¸å…·æœ‰æ•°ç»„çš„æ–¹æ³•ï¼Œç›´æ¥å¯¹ä¸€ä¸ªç±»ä¼¼æ•°ç»„ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•æµè§ˆå™¨ä¼šæŠ¥é”™ï¼Œè€Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬çš„æ“ä½œåªæœ‰é€šè¿‡ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•æ‰èƒ½å®Œæˆï¼Œæˆ–ç”¨æ•°ç»„çš„æ–¹æ³•å®Œæˆæ‰æ˜¯æœ€ä½³çš„é€‰æ‹©ã€‚

> **æç¤º**ï¼šå½“ä½ å¸Œæœ›åŸæ•°ç»„ä¸ä¼šè¢«ä¿®æ”¹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ [`toSpliced()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/toSpliced) æ–¹æ³•ã€‚

## æ•°ç»„æ’åº

JavaScript ä½¿ç”¨ [sort()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/sort) æ–¹æ³•å¯¹æ•°ç»„è¿›è¡Œæ’åºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä¼šæŒ‰ç…§  [**ASC II ç **](https://tool.oschina.net/commons?type=4) é¡ºåºæ’åºï¼Œå¹¶ä¿®æ”¹åŸæ•°ç»„ã€‚

### æ•°å­—æ’åº

ç”±äº `sort()` æ–¹æ³•é»˜è®¤æŒ‰ç…§ **å­—ç¬¦ä¸²** è¿›è¡Œæ¯”è¾ƒï¼Œç›´æ¥å¯¹æ•°å­—æ•°ç»„æ’åºä¼šå‡ºç°é—®é¢˜ï¼š

```js
const arr = [1, 12, 7, 5];
arr.sort();
console.log(arr); // [1, 12, 5, 7]
```

è¦å®ç° **æ•°å€¼å¤§å°** çš„æ’åºï¼Œéœ€è¦ä¼ é€’ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°ï¼š

```javascript
const nums = [1, 8, 13, 30]; 

// å‡åºæ’åº
nums.sort((a, b) => a - b);
console.log(nums); // [1, 8, 13, 30]

// é™åºæ’åº
nums.sort((a, b) => b - a);
console.log(nums); // [30, 13, 8, 1]
```

> **æç¤º**ï¼šå½“éœ€è¦è·å–æ’åºåçš„æ•°ç»„ï¼Œä½†åˆä¸æƒ³ä¿®æ”¹åŸæ•°æ®æ—¶ï¼Œæ¯”å¦‚è¿›è¡Œ**æ•°æ®å±•ç¤ºã€æœç´¢æ’åº**ç­‰æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ [toSorted()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/toSorted) æ–¹æ³•ã€‚

### å¯¹è±¡æ’åº

å¦‚æœæ•°ç»„çš„å…ƒç´ æ˜¯å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å¯¹è±¡çš„æŸä¸ªå±æ€§è¿›è¡Œæ’åºã€‚ä¾‹å¦‚ï¼ŒæŒ‰ score é™åºæ’åˆ—ï¼š

```javascript
const students = [
    { id: 1101, name: 'æ›¹æ“', score: 95 },
    { id: 1102, name: 'å•å¸ƒ', score: 50 },
    { id: 1103, name: 'è²‚è‰', score: 65 },
    { id: 1104, name: 'èµµäº‘', score: 70 }
];

students.sort((a, b) => b.score - a.score);
console.log(students);

/*
(4) [{â€¦}, {â€¦}, {â€¦}, {â€¦}]
0: {stuNum: 1101, name: "æ›¹æ“", score: 95}
1: {stuNum: 1104, name: "èµµäº‘", score: 70}
2: {stuNum: 1103, name: "è²‚è‰", score: 65}
3: {stuNum: 1102, name: "å•å¸ƒ", score: 50}
length: 4
__proto__: Array(0)
*/
```

### å­—ç¬¦ä¸²æ’åº

å­—ç¬¦ä¸²æ’åºå¯ä»¥ç›´æ¥ä½¿ç”¨ `sort()`ï¼Œä½†æ›´æ¨èä½¿ç”¨ `localeCompare()` æ–¹æ³•ï¼Œä»¥ç¡®ä¿ä¸åŒè¯­è¨€çš„æ­£ç¡®æ’åºï¼š

```js
const strs = ["Apple", "Banana", "Angular", "Orange"];
strs.sort((a, b) => a.localeCompare(b));
strs
(4)Â ["Angular", "Apple", "Banana", "Orange"]
```

### ä¸­æ–‡æ’åº

`localeCompare()` ä¹Ÿå¯ä»¥ç”¨äºä¸­æ–‡æ’åºï¼ŒæŒ‡å®š "zh-CN" ä»¥ç¡®ä¿æŒ‰æ‹¼éŸ³é¡ºåºæ’åˆ—ï¼š

```js
const  cities = ["ä¸Šæµ·","åŒ—äº¬","æ­å·", "æˆéƒ½"];
cities.sort((a, b) => a.localeCompare(b, "zh-CN"));
cities
(4)Â ["åŒ—äº¬", "æˆéƒ½", "æ­å·", "ä¸Šæµ·"]
```

## æ•°ç»„å€’åº

[reverse()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse) æ–¹æ³•ç”¨äº **åè½¬æ•°ç»„å…ƒç´ çš„é¡ºåº**ï¼Œå¹¶ **ä¿®æ”¹åŸæ•°ç»„**ã€‚

```javascript
const arr = [1, 2, 3, 4];
arr
arr.reverse();
(4)Â [4, 3, 2, 1]
```

æ³¨æ„äº‹é¡¹ï¼š

1. **`reverse()` ä¸è¿›è¡Œæ’åº**ï¼šå®ƒåªæ˜¯ç®€å•åœ° **ç¿»è½¬æ•°ç»„é¡ºåº**ï¼Œè€Œä¸ä¼šåƒ `sort()` é‚£æ ·å¯¹æ•°ç»„è¿›è¡Œå¤§å°æ’åºã€‚
2. **å¯¹å·²æ’åºæ•°ç»„è¿›è¡Œé™åºå¤„ç†ï¼Œ`reverse()` æ›´é«˜æ•ˆ**ï¼šå¦‚æœæ•°ç»„å·²ç»æŒ‰å‡åºæ’åˆ—ï¼Œæƒ³è¦é™åºæ’åˆ—ï¼Œå¯ä»¥ä½¿ç”¨ `reverse()`ï¼Œæ¯” `sort()` è¿›è¡ŒäºŒæ¬¡æ’åºæ›´å¿«ï¼š

> **æç¤º**ï¼šåœ¨ä¸ä¿®æ”¹åŸæ•°ç»„çš„æƒ…å†µä¸‹è·å–å€’åºæ•°ç»„ï¼Œå¯ä»¥ä½¿ç”¨ [toReversed()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/toReversed) æ–¹æ³•ã€‚

## æ•°ç»„éå†

### map

[`map()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/map) **å¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œå›è°ƒå‡½æ•°**ï¼Œå¹¶è¿”å›ä¸€ä¸ª**æ–°æ•°ç»„**ï¼Œ**ä¸ä¼šä¿®æ”¹åŸæ•°ç»„**ã€‚

```js
arr.map((item, index, arr) => {
  // å¤„ç†é€»è¾‘
  return ç»“æœ;
});
```

å‚æ•°è§£è¯»ï¼š

- `item`ï¼šå½“å‰éå†çš„æ•°ç»„å…ƒç´ 
- `index`ï¼šå½“å‰å…ƒç´ çš„ç´¢å¼•ï¼ˆå¯é€‰ï¼‰
- `arr`ï¼šåŸæ•°ç»„æœ¬èº«ï¼ˆå¯é€‰ï¼‰

> **æ³¨æ„**ï¼šå‚æ•°åç§°å¯è‡ªå®šä¹‰ï¼Œå¦‚ elementã€idxã€array ç­‰ã€‚

**ç¤ºä¾‹ 1ï¼šéå†æ•°ç»„**

```javascript
const heros = ["é˜¿ç‚", "æç™½", "è²‚è‰"];

heros.map((item, index, arr) => {
  console.log(`item:${item}, index:${index}, arr: ${arr}`);
});

/*
item:é˜¿ç‚, index:0, arr: é˜¿ç‚,æç™½,è²‚è‰
item:æç™½, index:1, arr: é˜¿ç‚,æç™½,è²‚è‰
item:è²‚è‰, index:2, arr: é˜¿ç‚,æç™½,è²‚è‰
*/
```

**ç¤ºä¾‹ 2ï¼šä¿®æ”¹æ•°ç»„å…ƒç´ **

å‡è®¾æœ‰ä¸€ä¸ªæ•°ç»„å­˜å‚¨äº†å•†å“ä»·æ ¼ï¼Œç°åœ¨ä½¿ç”¨ map() æ–¹æ³•ç»™æ¯ä¸ªä»·æ ¼å‰æ·»åŠ  **Â¥** ç¬¦å·ã€‚

```js
const prices = [66, 99, 85.5, 32];
const newPrices = prices.map(price => `Â¥${price}`);
newPrices
(4)Â ["Â¥66", "Â¥99", "Â¥85.5", "Â¥32"]
```

**ç¤ºä¾‹ 3ï¼šå¯¹è±¡æ•°ç»„å¤„ç†**

æœ‰ä¸€ç»„å­¦ç”Ÿæ•°æ®ï¼Œä½¿ç”¨ map() ç”Ÿæˆæ–°çš„å¯¹è±¡æ•°ç»„ï¼Œæ¯ä¸ªå¯¹è±¡æ–°å¢ status å­—æ®µï¼š

```js
const students = [
  { name: "å¼ ä¸‰", score: 85 },
  { name: "æå››", score: 60 },
  { name: "ç‹äº”", score: 40 }
];

const result = students.map(stu => ({
  ...stu,
  status: stu.score >= 60 ? "åŠæ ¼" : "ä¸åŠæ ¼"
}));

console.log(result);

/*
[
  { name: "å¼ ä¸‰", score: 85, status: "åŠæ ¼" },
  { name: "æå››", score: 60, status: "åŠæ ¼" },
  { name: "ç‹äº”", score: 40, status: "ä¸åŠæ ¼" }
]
*/
```

### For-*

| æ–¹æ³•      | è¯´æ˜                                                         |
| --------- | ------------------------------------------------------------ |
| `for`     | é€šè¿‡forå¾ªç¯éå†æ•°ç»„å…ƒç´ ï¼Œå¯ä»¥æŠŠè®¡æ•°å™¨ `i` å½“æˆæ•°ç»„å…ƒç´ çš„ä¸‹æ ‡æ¥è®¿é—® |
| `for-in`  | éå†çš„æ˜¯ä¸‹æ ‡                                                 |
| `for-of`  | ç›´æ¥éå†æ•°æ®                                                 |
| `forEach` | forEachæ˜¯æ•°ç»„å¯¹è±¡æä¾›çš„æ–¹æ³•ï¼Œç±»ä¼¼äºmapæ–¹æ³•ï¼Œå”¯ä¸€çš„åŒºåˆ«åœ¨äºforEachæ²¡æœ‰è¿”å›å€¼ï¼Œåªæ˜¯å•çº¯çš„éå†æ•°æ®ã€‚ |

ç¤ºä¾‹å‚è€ƒï¼š

```js
const heros = ["é˜¿ç‚", "æç™½", "è²‚è‰"];

// 1. for
for(const i = 0, len = heros.length; i < len; i++) {
	console.log(heros[i]);
}

// 2. for-in
for(const index in heros) {
	console.log(heros[index]);
}

// 3. for-of
for(const hero of heros) {
	console.log(hero);
}

// 4. forEach
heros.forEach(function(hero, index, arr) {
	console.log(hero, index, arr);
});
/*
é˜¿ç‚ 0 (3)Â ["é˜¿ç‚", "æç™½", "è²‚è‰"]
æç™½ 1 (3)Â ["é˜¿ç‚", "æç™½", "è²‚è‰"]
è²‚è‰ 2 (3)Â ["é˜¿ç‚", "æç™½", "è²‚è‰"]
*/
```

### reduce

[`reduce()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce) æ–¹æ³•å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œ **å›è°ƒå‡½æ•°**ï¼Œå¹¶å°†ç»“æœæ±‡æ€»ä¸º **å•ä¸ªè¿”å›å€¼**ã€‚

è¯­æ³•ï¼š

```js
arr.reduce((prev, cur, index, arr) => {
    return prev + cur;
}, initialValue);
```

å‚æ•°ï¼š

- `prev`ï¼šä¸Šä¸€æ¬¡å›è°ƒå‡½æ•°æ‰§è¡Œçš„è¿”å›å€¼ï¼ˆç´¯åŠ å™¨ï¼‰
- `cur`ï¼šå½“å‰éå†çš„æ•°ç»„å…ƒç´ 
- `index`ï¼šå½“å‰ç´¢å¼•ï¼ˆå¯é€‰ï¼‰
- `arr`ï¼šåŸå§‹æ•°ç»„ï¼ˆå¯é€‰ï¼‰
- `initialValue`ï¼šåˆå§‹å€¼ï¼ˆå¯é€‰ï¼Œ**é€šå¸¸å»ºè®®æä¾›**ï¼‰

> **æ³¨æ„**ï¼š
>
> 1. å¦‚æœ **ä¸æä¾› initialValue**ï¼Œåˆ™ `reduce()` **ä»ç´¢å¼• 1 å¼€å§‹**ï¼Œå¹¶æŠŠ **ç´¢å¼• 0 çš„å…ƒç´ ä½œä¸º prev çš„åˆå§‹å€¼**ã€‚
> 2. **å»ºè®®æä¾› initialValue**ï¼Œè¿™æ · reduce() **ä»ç´¢å¼• 0 å¼€å§‹**ï¼Œä»£ç æ›´å®‰å…¨ã€‚

**ç¤ºä¾‹ 1ï¼šè®¡ç®—æ•°ç»„å…ƒç´ å‡ºç°çš„æ¬¡æ•°**

```js
const names = ['Alice', 'Bob', 'Tiff', 'Bruce', 'Alice'];
const nameNum = names.reduce((prev, cur) => {
  prev[cur] = (prev[cur] || 0) + 1;
  return prev;
}, {});

console.log(nameNum); // { Alice: 2, Bob: 1, Tiff: 1, Bruce: 1 }
```

**ç¤ºä¾‹ 2ï¼šæ•°ç»„å»é‡**

```js
const arr = [1, 2, 3, 4, 4, 1];

const newArr = arr.reduce((prev, cur) => 
  prev.includes(cur) ? prev : [...prev, cur]
, []);

console.log(newArr); 
// [1, 2, 3, 4]
```

**ç¤ºä¾‹ 3ï¼šå¯¹è±¡å±æ€§æ±‚å’Œ**

```js
const result = [
  { subject: 'math', score: 10 },
  { subject: 'chinese', score: 20 },
  { subject: 'english', score: 30 }
];

const sum = result.reduce((prev, cur) => prev + cur.score, 0);

console.log(sum); 
// 60
```

### reduceRight

[reduceRight()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/reduceRight) å’Œ `reduce()` çš„è¯­æ³•å‡ ä¹ç›¸åŒï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯**éå†æ–¹å‘**ä¸åŒã€‚

è¿™é‡Œåªæ˜¯ç®€å•å¯¹æ¯”ä¸‹ reduce å’Œ reduceRight çš„åŒºåˆ«ï¼š

| æ–¹æ³•            | éå†é¡ºåº                 | é€‚ç”¨åœºæ™¯                     |
| --------------- | ------------------------ | ---------------------------- |
| `reduce()`      | ä»å·¦åˆ°å³ (ç´¢å¼• 0 â†’ æœ«å°¾) | **ç´¯åŠ ã€ç»Ÿè®¡ã€å»é‡**         |
| `reduceRight()` | ä»å³åˆ°å·¦ (ç´¢å¼• æœ«å°¾ â†’ 0) | **åå‘æ‹¼æ¥å­—ç¬¦ä¸²ã€åå‘è®¡ç®—** |

### some

[`some()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/some) **ç”¨äºæ£€æµ‹æ•°ç»„ä¸­æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ ** æ»¡è¶³ç»™å®šçš„æµ‹è¯•å‡½æ•°ï¼Œè¿”å› true æˆ– falseã€‚

**å¦‚æœæ‰¾åˆ°ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œsome() ç«‹å³è¿”å› trueï¼Œä¸ä¼šç»§ç»­éå†å‰©ä½™å…ƒç´ ã€‚**

è¯­æ³•ï¼š

```js
arr.some((item, index, arr) => {
  // æµ‹è¯•é€»è¾‘
});
```

**ç¤ºä¾‹ï¼šæ£€æŸ¥æ•°ç»„æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ªå¶æ•°**

```js
const arr = [1, 2, 3, 4, 5];
const hasEven = arr.some((item) => item % 2 === 0);
console.log(hasEven); // trueï¼ˆå› ä¸º 2ã€4 æ˜¯å¶æ•°ï¼‰
```

### every

[`every()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/every) **ç”¨äºæ£€æµ‹æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½æ»¡è¶³æŒ‡å®šæµ‹è¯•å‡½æ•°**ï¼Œè¿”å› true æˆ– falseã€‚

**å¦‚æœæŸä¸ªå…ƒç´ ä¸æ»¡è¶³æ¡ä»¶ï¼Œevery() ç«‹å³è¿”å› falseï¼Œä¸ä¼šç»§ç»­éå†å‰©ä½™å…ƒç´ ã€‚**

è¯­æ³•ï¼š

```js
arr.every((item, index, arr) => {
  // æµ‹è¯•é€»è¾‘
});
```

**ç¤ºä¾‹ï¼šæ£€æŸ¥æ•°ç»„æ˜¯å¦æ‰€æœ‰å…ƒç´ éƒ½æ˜¯å¶æ•°**

```js
const arr = [1, 2, 3, 4, 5];
const allEven = arr.every((item) => item % 2 === 0);
console.log(allEven); // falseï¼ˆå› ä¸º 1ã€3ã€5 ä¸æ˜¯å¶æ•°ï¼‰
```

## æ•°ç»„è½¬å­—ç¬¦ä¸²

[`join()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/join)  æ–¹æ³•ç”¨äºå°†æ•°ç»„çš„æ‰€æœ‰å…ƒç´ è½¬æ¢ä¸º**å­—ç¬¦ä¸²**ï¼Œå¹¶ä½¿ç”¨æŒ‡å®šçš„**åˆ†éš”ç¬¦**è¿æ¥ã€‚

```js
// 1ï¸âƒ£ é»˜è®¤åˆ†éš”ç¬¦ï¼ˆé€—å·ï¼‰
const names = ["å¼ ä¸‰", "æå››", "ç‹äº”"];
console.log(names.join()); // å¼ ä¸‰,æå››,ç‹äº”

// 2ï¸âƒ£ è‡ªå®šä¹‰åˆ†éš”ç¬¦
console.log(names.join(" - ")); // "å¼ ä¸‰ - æå›› - ç‹äº”"

// 3ï¸âƒ£ æ— åˆ†éš”ç¬¦
console.log(names.join("")); // "å¼ ä¸‰æå››ç‹äº”"

// 4ï¸âƒ£ æ•°ç»„åŒ…å« undefined æˆ– null
const arr = ["è‹¹æœ", undefined, "é¦™è•‰", null, "æ©˜å­"];
console.log(arr.join(", ")); // "è‹¹æœ, , é¦™è•‰, , æ©˜å­"ï¼ˆundefined å’Œ null å˜æˆç©ºå­—ç¬¦ä¸²ï¼‰
```

æ€»ç»“ï¼š

1. `join()` æ–¹æ³•ç”¨äº**å°†æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²**ï¼Œå¹¶å¯ä»¥**è‡ªå®šä¹‰åˆ†éš”ç¬¦**ã€‚
2. **é»˜è®¤ä½¿ç”¨ "," é€—å·åˆ†éš”**ï¼Œä½†å¯ä»¥æŒ‡å®šå…¶ä»–ç¬¦å·ï¼ˆå¦‚ " - "ã€" "ã€""ï¼‰ã€‚
3. **undefined å’Œ null ä¼šå˜æˆç©ºå­—ç¬¦ä¸²**ï¼Œä¸ä¼šè¢«è½¬æ¢ä¸º "undefined" æˆ– "null"ã€‚
4. é€‚ç”¨äº **æ ¼å¼åŒ–æ–‡æœ¬ã€æ‹¼æ¥ HTMLã€ç”Ÿæˆ CSVã€æ ¼å¼åŒ–æ•°æ®** ç­‰åœºæ™¯ã€‚ ğŸš€

## æ•°ç»„æ‰å¹³åŒ–

### flat

[`flat()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/flat)  æ–¹æ³•ç”¨äº**å°†å¤šç»´æ•°ç»„æ‰å¹³åŒ–**ï¼Œå³å°†åµŒå¥—çš„æ•°ç»„å…ƒç´ å±•å¼€ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚

è¯­æ³•ï¼š

```js
arr.flat(depth);
```

å‚æ•°ï¼š

- depthï¼ˆå¯é€‰ï¼‰ï¼šæŒ‡å®šè¦æ‰å¹³åŒ–çš„å±‚çº§æ·±åº¦ï¼Œé»˜è®¤ä¸º 1ã€‚
  - 1ï¼ˆé»˜è®¤ï¼‰ï¼šå±•å¼€ä¸€å±‚
  - Infinityï¼šå±•å¼€æ‰€æœ‰å±‚çº§

**1ï¸âƒ£ æ‰å¹³åŒ–å•å±‚æ•°ç»„ï¼ˆé»˜è®¤ depth = 1ï¼‰**

```js
const arr = [1, [2, 3], 4, [5, 6]];
console.log(arr.flat()); 
// ç»“æœ: [1, 2, 3, 4, 5, 6]
```

**2ï¸âƒ£ æ‰å¹³åŒ–å¤šå±‚æ•°ç»„**

```js
const arr = [1, [2, 3, [4, 5]], 6];
console.log(arr.flat(2)); 
// ç»“æœ: [1, 2, 3, 4, 5, 6]
```

**3ï¸âƒ£ ä½¿ç”¨ Infinity å®Œå…¨æ‰å¹³åŒ–**

```js
const arr = [1, [2, [3, [4, 5]]]];
console.log(arr.flat(Infinity)); 
// ç»“æœ: [1, 2, 3, 4, 5]
```

### flatMap

[flatMap()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/flatMap) æ–¹æ³•æ˜¯ map() å’Œ flat(1) **çš„ç»„åˆ**ï¼Œå…ˆå¯¹æ•°ç»„æ‰§è¡Œ map() æ–¹æ³•ï¼Œå†å¯¹ç»“æœæ•°ç»„è¿›è¡Œ flat(1) æ‰å¹³åŒ–ï¼ˆåªå±•å¼€ä¸€å±‚ï¼‰ã€‚

è¯­æ³•ï¼š

```js
arr.flatMap(callbackFn);
```

- `callbackFn`: æ˜ å°„å‡½æ•°ï¼Œè¿”å›æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ çš„æ–°å€¼
- åªèƒ½**æ‰å¹³åŒ–ä¸€å±‚**ï¼Œå¦‚æœéœ€è¦æ›´æ·±å±‚çš„æ‰å¹³åŒ–ï¼Œéœ€è¦é…åˆ `flat()`

**1ï¸âƒ£ æ™®é€š map() æ–¹å¼ï¼ˆæ²¡æœ‰æ‰å¹³åŒ–ï¼‰**

```js
const arr = [1, 2, 3];
console.log(arr.map(x => [x * 2])); 
// ç»“æœ: [[2], [4], [6]]  (åµŒå¥—äº†æ•°ç»„)
```

**2ï¸âƒ£ ä½¿ç”¨ flatMap() è¿›è¡Œæ‰å¹³åŒ–**

```js
console.log(arr.flatMap(x => [x * 2])); 
// ç»“æœ: [2, 4, 6]  (è‡ªåŠ¨å±•å¼€ä¸€å±‚)
```

**3ï¸âƒ£ ç¤ºä¾‹ï¼šå»é™¤æ•°ç»„ä¸­çš„ç©ºå­—ç¬¦ä¸²**

```js
const words = ["hello", "", "world", "JavaScript"];
console.log(words.flatMap(word => word ? [word] : [])); 
// ç»“æœ: ["hello", "world", "JavaScript"]
```

**4ï¸âƒ£ ç¤ºä¾‹ï¼šæ‹†åˆ†å­—ç¬¦ä¸²å¹¶æ‰å¹³åŒ–**

```js
const sentences = ["hello world", "JavaScript is awesome"];
console.log(sentences.flatMap(sentence => sentence.split(" ")));
// ç»“æœ: ["hello", "world", "JavaScript", "is", "awesome"]
```

### flat ğŸ†š flatMap

| æ–¹æ³•      | ä½œç”¨                | æ˜¯å¦æ˜ å°„ | æ˜¯å¦æ‰å¹³åŒ–å¤šå±‚             |
| --------- | ------------------- | -------- | -------------------------- |
| flat()    | æ‰å¹³åŒ–æ•°ç»„          | âŒ å¦     | âœ… æ”¯æŒå¤šå±‚ï¼ˆå¯æŒ‡å®š depthï¼‰ |
| flatMap() | å…ˆ map() å† flat(1) | âœ… æ˜¯     | âŒ åªèƒ½å±•å¼€ 1 å±‚            |

### æ€»ç»“

âœ… **`flat()` é€‚ç”¨äºï¼š**

1. éœ€è¦**å®Œå…¨æ‰å¹³åŒ–æ•°ç»„**ï¼ˆdepth > 1ï¼‰
2. **çº¯ç²¹çš„æ•°ç»„å±•å¼€**ï¼Œä¸éœ€è¦ä¿®æ”¹æ•°æ®

âœ… **`flatMap()` é€‚ç”¨äºï¼š**

1. è¦ **å…ˆ map() å˜æ¢æ•°æ®ï¼Œå†æ‰å¹³åŒ–**
2. **è‡ªåŠ¨å±•å¼€ 1 å±‚ï¼Œä¸æ”¯æŒæ›´æ·±çš„å±‚çº§**

ğŸš€ **æ¨è**ï¼š

1. **å¦‚æœåªæ˜¯å±•å¼€æ•°ç»„ï¼Œä½¿ç”¨ `flat()`**
2. **å¦‚æœéœ€è¦è½¬æ¢æ•°æ®åå±•å¼€ï¼Œä½¿ç”¨ `flatMap()`**

# é“¾å¼ä½¿ç”¨

åœ¨æ•°ç»„çš„æ–¹æ³•ä¸­ï¼Œé™¤äº†å¯ä»¥å®ç°æ•°ç»„æ“ä½œæ–¹æ³•çš„åµŒå¥—ï¼Œè‹¥æ‰€ç”¨æ–¹æ³•è¿”å›çš„ä»æ—§æ˜¯ä¸€ä¸ªæ•°ç»„çš„è¯ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ–¹æ³•é“¾æ¥å®Œæˆä¸€ä¸ªç‰¹å®šçš„åŠŸèƒ½ã€‚

```javascript
const arr = [1, 2, 3, 5, 4];
const res = arr.sort().reverse().map(function(item){
    return item * 2;
});
console.log(res);// [ 10, 8, 6, 4, 2 ]
```

åƒè¿™ç§ç”±å¦‚é“¾æ¡ä¸€èˆ¬çš„è°ƒç”¨æ–¹æ³•ï¼Œè¢«ç§°ä¸º **é“¾å¼è°ƒç”¨**

# æ‹“å±•

## å»é‡

```js
const nums = [1, 2, 3, 1, 3, 4, 5, 4];
// æ–¹æ³•1ï¼šåˆ©ç”¨setç‰¹æ€§
console.log(Array.from(new Set(nums)));
// æ–¹æ³•2ï¼šéå†(for/forEach...)
const t = [];
nums.forEach((m) => {
  if (!t.includes(m)) {
    t.push(m);
  }
});
console.log(t);
// æ–¹æ³•3ï¼šreduce
console.log(
  nums.reduce((t, m) => {
    if (!t.includes(m)) {
      t.push(m);
    }
    return t;
  }, [])
);
// æ–¹æ³•4ï¼šfilter
console.log(nums.filter((m, i) => nums.indexOf(m) === i));
```

## æ±‚äº¤é›†

```js
const a = [1, 2, 3, 4, 5];
const b = [2, 4, 6, 8, 10];

// æ–¹æ³•1ï¼šä½¿ç”¨åŒé‡å¾ªç¯éå†ä¸¤ä¸ªæ•°ç»„ï¼Œå°†å®ƒä»¬çš„å…±åŒå…ƒç´ åŠ å…¥æ–°æ•°ç»„ä¸­ã€‚æ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ã€‚
const intersection = [];
for (const i = 0; i < a.length; i++) {
  for (const j = 0; j < b.length; j++) {
    if (a[i] === b[j]) {
      intersection.push(a[i]);
    }
  }
}
console.log(intersection);

// æ–¹æ³•2ï¼šfilter + includes è¿‡æ»¤å‡ºç¬¬ä¸€ä¸ªæ•°ç»„ä¸­åŒæ—¶ä¹Ÿåœ¨ç¬¬äºŒä¸ªæ•°ç»„ä¸­å‡ºç°çš„å…ƒç´ ã€‚æ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ã€‚
const intersection = a.filter((m) => b.includes(m));
console.log(intersection);

// æ–¹æ³•3ï¼šset + filter æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚
const set = new Set(a);
const intersection = b.filter((item) => set.has(item));
console.log(intersection);

// æ–¹æ³•4ï¼šmap + filter æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚
const map = new Map();
a.forEach((k) => map.set(k, 1));
const intersection = b.filter((k) => map.has(k));
console.log(intersection);

// æ–¹æ³•5ï¼šHashMap æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚
const hashMap = {};
a.forEach((k) => (hashMap[k] = 1));
const intersection = b.filter((k) => !!hashMap[k]);
console.log(intersection);
```

## æ¸…ç©ºæ•°ç»„

æ¸…ç©ºæ•°ç»„æœ€é«˜æ•ˆçš„æ–¹æ³•æ˜¯å°†æ•°ç»„é•¿åº¦ç½®ä¸º `0`

```js
const nums = [1, 2, 3];
nums.length = 0;
```

## æ•°ç»„è½¬å¯¹è±¡

åœ¨ JavaScript ä¸­ï¼Œå°†æ•°ç»„è½¬æ¢ä¸ºå¯¹è±¡æœ‰å¤šç§æ–¹å¼ï¼Œæ¯ç§æ–¹å¼éƒ½æœ‰å…¶ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯ã€‚ä»¥ä¸‹æ˜¯å‡ ç§å¸¸è§çš„æ–¹æ³•ï¼š

1. **æ‰©å±•è¿ç®—ç¬¦ï¼ˆES6+ï¼‰**

   ```js
   const cities = ["æˆéƒ½", "é‡åº†", "è´µé˜³"];
   const cityObj = { ...cities };
   ```

2. **`Object.assign()`**

   ```js
   const cities = ['æˆéƒ½', 'é‡åº†', 'è´µé˜³'];
   const cityObj = Object.assign({}, cities);
   ```

3. **`reduce()` æ–¹æ³•ï¼ˆè‡ªå®šä¹‰é”®åï¼‰**

   ```js
   const cities = ['æˆéƒ½', 'é‡åº†', 'è´µé˜³'];
   const cityObj = cities.reduce((acc, cur, index) => {
     acc[`city_${index}`] = cur;
     return acc;
   }, {});
   ```

4. **æ‰‹åŠ¨éå†ï¼ˆæœ€åŸºç¡€æ–¹æ³•ï¼‰**

   ```js
   const cities = ['æˆéƒ½', 'é‡åº†', 'è´µé˜³'];
   const cityObj = {};
   cities.forEach((item, index) => {
     cityObj[index] = item;
   });
   ```

5. **ä½¿ç”¨ `Object.fromEntries()`ï¼ˆES10+ï¼‰**

   ```js
   const cities = ['æˆéƒ½', 'é‡åº†', 'è´µé˜³'];
   const cityObj = Object.fromEntries(
     cities.map((item, index) => [index, item])
   );
   ```

**æœ€ä½³å®è·µå»ºè®®**

1. å¦‚æœåªéœ€è¦ç®€å•è½¬æ¢ï¼Œ**æ‰©å±•è¿ç®—ç¬¦** æ˜¯æœ€ä½³é€‰æ‹©
2. å¦‚æœéœ€è¦è‡ªå®šä¹‰é”®åï¼Œä½¿ç”¨ **`reduce()`** æ–¹æ³•
3. åœ¨éœ€è¦å…¼å®¹æ—§ç¯å¢ƒæ—¶ï¼Œä½¿ç”¨ **`Object.assign()`**
4. é¿å…åœ¨å¤§å‹æ•°ç»„ä¸Šä½¿ç”¨ **æ‰‹åŠ¨éå†**ï¼Œæ€§èƒ½è¾ƒå·®

> **æ³¨æ„**ï¼šæ‰€æœ‰æ–¹æ³•éƒ½æ˜¯æµ…æ‹·è´ï¼Œå¦‚æœæ•°ç»„åŒ…å«å¯¹è±¡å¼•ç”¨ï¼Œè½¬æ¢åçš„å¯¹è±¡ä»ç„¶ä¼šå¼•ç”¨ç›¸åŒçš„å¯¹è±¡ã€‚

# è¯¾åä½œä¸š

```markdown
1. å®šä¹‰ä¸€ä¸ªæ•°ç»„ï¼Œéšæœºè·å–20ä¸ª0~100çš„æ•´æ•°ï¼Œè¦æ±‚å¦‚ä¸‹ï¼ˆç»“æœè¦å–å››èˆäº”å…¥ï¼‰ï¼š
- è®¡ç®—æœ€å¤§å€¼ã€æœ€å°å€¼
- è®¡ç®—æ•°ç»„å…ƒç´ ä¹‹å’Œã€å¹³å‡å€¼
- å°†æ•°ç»„å…ƒç´ å’Œå¹³å‡å€¼çš„å·®å€¼ç»„æˆä¸€ä¸ªæ–°çš„æ•°ç»„å¹¶æŒ‰å‡åºæ’åº
> æç¤ºï¼š
- Math.random()ï¼šè·å–0~1çš„éšæœºæ•°
- Math.round() ï¼šå››èˆäº”å…¥

2. å»é™¤æ•°ç»„[1, 3, 2, 4, 3]ä¸­é‡å¤çš„å…ƒç´ 
```

 
